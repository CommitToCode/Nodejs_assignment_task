<h2 style="font-family: Arial, sans-serif; color: #333; text-align: center;">Categories</h2>

<div style="text-align: center; margin-bottom: 20px;">
  <a href="/categories/add" 
     style="padding: 10px 15px; background-color: #007bff; color: white; text-decoration: none; border-radius: 4px;">
    + Add Category
  </a>
</div>

<% if (categories && categories.length > 0) { %>
  <ul style="list-style: none; padding: 0; max-width: 600px; margin: 0 auto; font-family: Arial, sans-serif;">
    <% categories.forEach(cat => { %>
      <li style="background-color: #f1f1f1; margin-bottom: 20px; padding: 15px; border-radius: 6px;">
        <strong style="font-size: 18px; color: #333;"><%= cat.name %></strong>

        <% if (cat.subcategories && cat.subcategories.length > 0) { %>
          <ul style="padding-left: 20px; margin-top: 10px;">
            <% cat.subcategories.forEach(sub => { %>
              <li style="margin: 5px 0; color: #555;"><%= sub.name %></li>
            <% }) %>
          </ul>
        <% } else { %>
          <p style="color: #777; margin-top: 10px;">No subcategories</p>
        <% } %>

        <form action="/categories/<%= cat._id %>/subcategory/add" method="post" style="margin-top: 10px;">
          <input 
            type="text" 
            name="subname" 
            placeholder="New subcategory" 
            required 
            style="padding: 8px; width: 70%; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;" 
          />
          <button 
            type="submit" 
            style="padding: 8px 12px; background-color: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer;">
            Add
          </button>
        </form>
      </li>
    <% }) %>
  </ul>
<% } else { %>
  <p style="text-align: center; color: #999; font-family: Arial, sans-serif;">No categories found.</p>
<% } %>
